<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The political scenario of Nepal has been over ruled by India and Indian Politics, specially BJP Lead Indian Government with Narendra Modi heading it. Amidst his ambitious Make In India and Digital India project is is vialoating human rights norms in SAARC and in Nepal.">
    <meta name="keywords" content="India Blockades Nepal, Blockade, Fuel Crisis, Nepal, India, Narendra Modi, Digital India, Make In India, Politics, South Asia, SAARC, China India Relationship, BJP, Congress, Pakistan, Bangladesh, Human rights">
    <meta name="author" content="You were looking for that? Don't You ?">
    <title>India Blockades Nepal</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script type="text/javascript" src="js/data.js"></script>
</head>
<body>
    <div class="container main">
        <div class="row">
            <div id="header">
                <h1>India Blockades Nepal</h1>
            </div>
            
            <div class="row" id="mediaList">
                <hr>
                <h5 class="centerAlign">In the News</h5>
                <div id="newsSites"></div>
            </div>
        </div>
    </div>
    <div id="details" class="container">
        
    </div>
    <!-- <footer class="footer">
      <div class="container">
        <p class="text-muted">
        All contents and links are copyright material of the respected site owners, except this one. Email us links at nepaliswadhin at gmail.com</p>
      </div>
    </footer> -->
</body>
<script type="text/javascript">
    var newsSection = document.getElementsByClassName('news');
    var closeDetails = document.getElementsByClassName('close');
    var details = document.getElementById("details");

    function loadContent(source) {

        var detailsCaption = document.createElement('div');
        detailsCaption.setAttribute('class','detailCaption');

        var closeBtn = document.createElement('button');
        closeBtn.setAttribute('class','close');
        closeBtn.setAttribute('aria-label','Close');
        closeBtn.onclick = function(e) {
            e.preventDefault();
            e.srcElement.parentNode.parentNode.parentNode.style.visibility = "hidden";
        }

        var closeSpan = document.createElement('span');
        closeSpan.setAttribute('aria-hidden','true')
        closeSpan.innerHTML = "&times;";

        closeBtn.appendChild(closeSpan);
        detailsCaption.appendChild(closeBtn);

        var ol = document.createElement('ol');
        for(var i=0; i<data[source].links.length;i++) {
            var li = document.createElement('li');
            li.innerHTML = '<a target="_blank" href="' + data[source].links[i] + '">' + data[source].links[i] + '</a>';
            ol.appendChild(li);
        }

        detailsCaption.appendChild(ol);
        details.innerHTML = '';
        details.appendChild(detailsCaption);
        details.style.visibility = 'visible';

    }


    function createNewsProviders() {
        var newsSites = document.getElementById('newsSites');
        var dataLen = Object.keys(data).length;
        newsSites.innerHTML = '';

        for(var i=0;i<dataLen;i++) {
            var currData = data[Object.keys(data)[i]]
            var coverDiv = document.createElement('div');
            coverDiv.setAttribute('class','col-md-1 news');

            var iconImage = document.createElement("img");
            iconImage.src = "img/" + currData.icon;

            var captionDiv = document.createElement('div');
            captionDiv.setAttribute('class','caption');
            var content = document.createTextNode(Object.keys(data)[i]);
            captionDiv.appendChild(content);

            coverDiv.appendChild(iconImage);
            coverDiv.appendChild(captionDiv);
            // coverDiv.onclick = loadContent(Object.keys(data)[i]);
            coverDiv.setAttribute('onclick','loadContent("' + Object.keys(data)[i] + '")');

            newsSites.appendChild(coverDiv);
        }
    }

    createNewsProviders();
</script>
</html>